---
import { Image } from "astro:assets";
import { Twitter, Linkedin } from "lucide-react";

interface Props {
    name: string;
    role: string;
    bio: string;
    image: ImageMetadata;
    social: {
        twitter?: string;
        linkedin?: string;
    };
}

const { name, role, bio, image, social } = Astro.props;
---

<div
    class="group relative bg-[#0a0a0a] border border-gray-800 p-6 hover:border-[var(--color-neon-green)] transition-colors duration-300"
>
    <!-- Glitch Overlay Element -->
    <div
        class="absolute inset-0 bg-[var(--color-neon-green)] opacity-0 group-hover:opacity-5 pointer-events-none transition-opacity"
    >
    </div>

    <!-- Image Container -->
    <div
        class="relative w-full aspect-square mb-6 overflow-hidden border border-gray-800 group-hover:border-[var(--color-neon-green)] transition-colors"
    >
        <Image
            src={image}
            alt={name}
            class="w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500"
        />
        <!-- Scanline effect -->
        <div
            class="absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_4px,3px_100%] pointer-events-none z-10"
        >
        </div>
    </div>

    <!-- Content -->
    <div class="relative z-10">
        <div class="mb-2">
            <h3
                class="text-xl font-bold text-white font-display group-hover:text-[var(--color-neon-green)] transition-colors"
            >
                {name}
            </h3>
            <p
                class="text-xs font-mono text-[var(--color-electric-blue)] uppercase tracking-wider"
            >
                //{role}
            </p>
        </div>

        <p class="text-gray-400 text-sm font-light mb-6 min-h-[3rem]">
            {bio}
        </p>

        <!-- Social Links -->
        <div class="flex gap-4 border-t border-gray-800 pt-4 mt-auto">
            {
                social.twitter && (
                    <a
                        href={social.twitter}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="text-gray-500 hover:text-white transition-colors"
                    >
                        <Twitter className="w-5 h-5" />
                        <span class="sr-only">Twitter</span>
                    </a>
                )
            }
            {
                social.linkedin && (
                    <a
                        href={social.linkedin}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="text-gray-500 hover:text-white transition-colors"
                    >
                        <Linkedin className="w-5 h-5" />
                        <span class="sr-only">LinkedIn</span>
                    </a>
                )
            }
        </div>
    </div>

    <!-- Corner Accents -->
    <div
        class="absolute top-0 right-0 p-1 opacity-0 group-hover:opacity-100 transition-opacity"
    >
        <div class="w-2 h-2 border-t border-r border-[var(--color-neon-green)]">
        </div>
    </div>
    <div
        class="absolute bottom-0 left-0 p-1 opacity-0 group-hover:opacity-100 transition-opacity"
    >
        <div class="w-2 h-2 border-b border-l border-[var(--color-neon-green)]">
        </div>
    </div>
</div>
